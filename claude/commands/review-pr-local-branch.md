現在チェックアウトされているローカルブランチのプルリクエストを包括的にレビューしてください。
Taskツールを使って複数の観点から多角的にレビューを実施してください。
Ultrathink.

## 実行手順

### ステップ1: PR情報の収集と分析
1. 現在のブランチ情報を確認
2. GitHubからプルリクエスト情報を取得
3. プルリクエストの本文を収集
4. 本文でリンクされているURLや、このプルリクエストに関連する他のIssueやプルリクエストやドキュメントを取得し情報を収集
5. 関連キーワードでさらにドキュメントを検索し情報を収集

### ステップ2: プルリクエストの目的理解
1. 収集した情報を基にPRの目的と要件を理解
2. 変更の意図と背景を分析
3. 期待される動作と制約を特定

### ステップ3: テスト実行
1. 既存のテストスイートを実行
2. 新規追加・変更されたテストを実行
3. テスト結果（成功/失敗）を記録
4. 失敗したテストがある場合は原因を分析

### ステップ4: コード分析とレビュー
以下の手順でレビューを実施する。

1. 観点A 「ロジック正確性」のレビュー観点を理解する。プルリクエストに含まれるコードを1つ1つ確認してこの観点でのコードの良し悪しを判断する。その後、判断した結果をメモする。
2. 観点B 「入力値バリデーション」のレビュー観点を理解する。プルリクエストに含まれるコードを1つ1つ確認してこの観点でのコードの良し悪しを判断する。その後、判断した結果をメモする。
3. 観点C 「保守性・可読性」のレビュー観点を理解する。プルリクエストに含まれるコードを1つ1つ確認してこの観点でのコードの良し悪しを判断する。その後、判断した結果をメモする。
4. 観点D 「セキュリティ」のレビュー観点を理解する。プルリクエストに含まれるコードを1つ1つ確認してこの観点でのコードの良し悪しを判断する。その後、判断した結果をメモする。
5. 観点E 「テスト品質」のレビュー観点を理解する。プルリクエストに含まれるコードを1つ1つ確認してこの観点でのコードの良し悪しを判断する。その後、判断した結果をメモする。
6. 観点F 「テスト実行結果」のレビュー観点を理解する。プルリクエストに含まれるコードを1つ1つ確認してこの観点でのコードの良し悪しを判断する。その後、判断した結果をメモする。

#### A. ロジック正確性
- 実装がPRの目的と要件を満たしているか
- アルゴリズムとデータフローが適切か
- エラーハンドリングが十分か
- 想定外の入力に対する処理が適切か

#### B. 入力値バリデーション
- **データ型と形式の検証**
  - 日付・時刻フォーマットの統一性
  - 文字列の長さ制限（最小・最大）
  - 数値の範囲チェック（最小・最大・精度）
  - 列挙型（Enum/Literal）の使用検討
- **ドメイン固有の検証**
  - ビジネスロジックに基づく妥当性
  - 相関関係のあるフィールド間の整合性
  - 必須/任意フィールドの適切性
- **データ整合性**
  - 重複データの防止機構
  - 外部キー参照の検証
  - 権限チェック（そのユーザーがそのデータを更新可能か）
- **エッジケースの考慮**
  - NULL/空文字列/0の扱い
  - 境界値での動作
  - 不正な形式のデータに対するエラーメッセージ

#### C. 保守性・可読性
- コード構造が理解しやすいか
- 命名規則が適切か
- 関数・クラスの責務が明確か
- コメントが適切か

#### D. セキュリティ
- 入力値検証が適切か
- 認証・認可処理が正しいか
- SQLインジェクションなどの脆弱性がないか
- 機密情報の漏洩リスクがないか

#### E. テスト品質
- 正常ケースのテストが十分か
- **入力値バリデーションのテスト**
  - 不正な型のテスト
  - 境界値テスト
  - 異常値・エッジケースのテスト
- テストデータが適切か
- テストコードの可読性・保守性が良いか

#### F. テスト実行結果
- 全てのテストがPASSしているか
- 失敗したテストがある場合は原因が明確か
- テスト実行時間が適切か
- カバレッジが十分か

### ステップ5: レビュー結果の出力

以下の形式でMarkdownファイルを生成：

```markdown
# プルリクエストレビュー結果

## 基本情報
- **ブランチ**: [ブランチ名]
- **プルリクエスト**: [PR番号とタイトル]
- **目的**: [PRの目的の要約]

## 変更概要
[変更内容の要約]

## テスト実行結果
- **テスト実行コマンド**: [実行したテストコマンド]
- **実行結果**: [PASS/FAIL]
- **失敗したテスト**: [失敗したテストがあれば詳細]
- **カバレッジ**: [テストカバレッジ情報]

## レビュー結果

### ✅ 良い点
- [具体的な良い実装を挙げる]

### ⚠️ 改善提案
- **ファイル**: `path/to/file.py:行番号`
  - **問題**: [問題の説明]
  - **提案**: [具体的な改善案]
  - **diff例**:
    ```diff
    - 変更前のコード
    + 変更後のコード
    ```

### 🚨 重大な問題
- [セキュリティやロジックの重大な問題があれば記載]

## 総合評価
- **承認可否**: [APPROVE/REQUEST_CHANGES/COMMENT]
- **理由**: [判断理由]
```

## 出力要件
- 全ての指摘にはファイルパスと行番号を明記
- 改善案は具体的なコード例で提示
- 重要度別に分類（良い点/改善提案/重大な問題）
- 最終的な承認可否を明確に判断
